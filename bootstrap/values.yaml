# Default values for bootstrap.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

# These defaults are for OpenShift 4.21

# Defaults from the gitops-bootstrap workload
#
deployer:
  domain: apps.cluster-guid.sandbox.opentlc.com
  apiUrl: https://api.cluster-guid.sandbox.opentlc.com:6443

# Local defaults
defaultRevision: &revision gitops-sample

##################################
### Set up the infrastructure
##################################

infra:
  git:
    repoURL: https://github.com/rhpds/ci-template-gitops.git
    targetRevision: *revision
    path: infra/bootstrap/

userOperator:
  authn: htpasswd
  git:
    repoURL: https://github.com/rhpds/openshift-oauth-account-operator.git
    targetRevision: main
    path: helm
  # HTPasswd config
  config:
    type: HTPasswd
    htpasswd:
      htpasswdSecret:
        name: htpasswd

# deploy an operator
webterminal:
  git:
    repoURL: https://github.com/rhpds/ocp-cluster-addons.git
    targetRevision: main
    path: webterminal
  startingCSV: webterminal.v1.13.0

##################################
###### Create a tenant
##################################

tenant:
  name: xyZZY
  git:
    repoURL: https://github.com/rhpds/ci-template-gitops.git
    targetRevision: *revision
    path: tenant/bootstrap/

# each tenant creates some users with the OAuthAccount custom resource
user:
  count: 2
  prefix: user

# create some workspaces (namespaces)
workspace:
  git:
    url: https://github.com/rhpds/ci-template-gitops.git
    revision: *revision
    path: tenant/workspace/

# create an app in each namespace
#  who doesn't need a loadtester?
loadtest:
  enabled: true
  requestsPerSecond: 0 #off
  duration: 1000
  url: https://example.com/your/app
